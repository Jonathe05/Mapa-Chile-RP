<style>
  .leaflet-control-custom {
    background-color: white;
    border: none;
    padding: 6px 10px;
    font-size: 14px;
    border-radius: 4px;
    cursor: pointer;
    box-shadow: 0 0 5px rgba(0,0,0,0.4);
    margin-bottom: 5px;
  }
</style>

<script>
  let showingCuarteles = false;

  const switchMapControl = L.Control.extend({
    onAdd: function () {
      const btn = L.DomUtil.create('button', 'leaflet-control-custom');
      btn.innerHTML = 'Cuarteles ðŸš’';
      btn.title = "Mostrar/Ocultar Cuarteles y Bomberos";

      L.DomEvent.on(btn, 'click', function (e) {
        L.DomEvent.stopPropagation(e);
        L.DomEvent.preventDefault(e);

        if (showingCuarteles) {
          map.removeLayer(cuartelesMap);
          baseMap.addTo(map);
        } else {
          map.removeLayer(baseMap);
          cuartelesMap.addTo(map);
        }

        showingCuarteles = !showingCuarteles;
      });

      return btn;
    },

    onRemove: function () {}
  });

  L.control.switchMap = function(opts) {
    return new switchMapControl(opts);
  }

  L.control.switchMap({ position: 'topleft' }).addTo(map);
</script>



